<div class="flex justify-center items-center fixed inset-x-0 top-0 z-50 bg-black bg-opacity-50 h-screen" id="Modal">
  <div
    id="AgeGate"
    class="w-full max-w-800 px-[20px] py-[144px] md:py-[64px] mx-auto my-0 text-center bg-gradient-to-r from-purple to-black border-4 border-solid border-white border-rounded focus-visible:shadow-none"
  >
    <p class="font-coop text-[24px] text-white mt-0 leading-[24px] mb-0">BEFORE WE BEGIN</p>
    <h2 class="font-coop text-[36px] text-white mt-0 leading-none">Please confirm your age.</h2>
    <form>
      <label for="age_range" class="font-helvetica text-[16px] text-white font-bold mt-0 leading-none"
        >Select your age range</label
      >
      <p role="alert" class="error-message error hidden">Please complete all the required fields to continue.</p>
      <div class="form-button-wrapper">
        <div id="age_div" class="required max-w-310 mx-auto my-0 relative">
          <select
            name="age"
            required=""
            id="age_range"
            class="font-helvetica inline-block max-w-310 bg-white text-black font-bold text-center w-[320px] py-[8px] my-[16px] rounded-full"
          >
            <option value="">Age Range</option>
            <option value="0-8">0-8 years</option>
            <option value="9-15">9-15 years</option>
            <option value="16-17">16-17 years</option>
            <option value="18-25">18-25 years</option>
            <option value="26+">26+ years</option>
          </select>
        </div>
        <div class="submit">
          <button
            type="submit"
            class="go-next font-helvetica inline-block max-w-310 bg-red hover:bg-red-light text-white font-bold text-center w-[320px] py-[8px] rounded-full"
            title="CONTINUE"
          >
            CONTINUE
          </button>
        </div>
      </div>
    </form>
  </div>
  <div
    id="Prohibited"
    class="agegate w-full max-w-800 px-[20px] py-[144px] md:py-[64px] mx-auto my-0 text-center bg-gradient-to-r from-purple to-black border-4 border-solid border-white border-rounded focus-visible:shadow-none"
    style="display: none"
  >
    <h2 class="font-coop text-[36px] text-white mt-0 leading-none">We're sorry</h2>
    <p class="font-coop text-[24px] text-white mt-0 leading-[24px] mb-0">
      It looks like you're not eligible to participate.
    </p>
    <p class="font-coop text-[24px] text-white mt-0 leading-[24px] mb-0">
      Please see the
      <a href="https://www.generalmills.com/privacy-security/legal-terms/us-english-terms-of-use" target="_blank"
        >Terms and Conditions</a
      >
      for complete details on who can participate.
    </p>
  </div>
</div>

<script>
  (function () {
    function getCookie(cname) {
      const name = cname + '=',
        decodedCookie = decodeURIComponent(document.cookie),
        ca = decodedCookie.split(';');
      for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);
      }
      return '';
    }
    document.querySelector('#AgeGate form').addEventListener('submit', function (e) {
      e.preventDefault();
      e.stopPropagation();
      const v = document.querySelector('#AgeGate form select').value;
      document.getElementById('AgeGate').style.display = 'none';
      if (v == '0-8' || v == '9-15' || v == '16-17') document.getElementById('Prohibited').style.display = 'block';
      else {
        //window.location.href = '/products/minify-your-morning-kit';
        document.querySelector('#Modal').style.display = 'none';
        document.querySelector('#AgeGate').style.display = 'none';
        document.cookie = 'skipagegate=true; path=/; secure=true';
      }
    });
    function rotateTriangle() {
      document.documentElement.style.setProperty('--transform', 'translateY(-50%) rotate(180deg)');
    }
    document.querySelector('#age_range').addEventListener('click', rotateTriangle);
    if (getCookie('skipagegate') == 'true') {
      document.querySelector('#Modal').style.display = 'none';
      document.querySelector('#AgeGate').style.display = 'none';
    }
  })();
</script>
